# Thinking in Million.js

Million.js is a virtual DOM that is designed to be faster than React. It is a drop-in replacement for the React virtual DOM, so you can use it in your existing React applications without any changes.

Million.js is based on the concept of **blocks**, which are groups of DOM elements that are rendered together. This makes it more efficient to update the DOM when only a small part of the page changes.

## Blocks

The most important concept to understand when thinking in Million.js is the concept of blocks. A block is a group of DOM elements that are rendered together. Blocks are created using the `block(){:jsx}` function.

The `block(){:jsx}` function takes one argument, which is a function that returns the DOM elements that should be rendered in the block. For example, the following code creates a block that contains a heading and a paragraph:

```jsx
const myBlock = block(() => (
  <h1>This is a heading</h1>
  <p>This is a paragraph</p>
));
```

Blocks can be nested inside of each other. For example, the following code creates a block that contains a nested block:

```jsx
const myBlock = block(() => (
  <h1>This is a heading</h1>
  block(() => (
    <p>This is a paragraph</p>
  ))
));
```

## Rendering Blocks

Blocks are rendered using the `mount(){:jsx}` function. 

The `mount(){:jsx}` function takes two arguments: the first argument is the block to be rendered, and the second argument is the DOM element that will contain the rendered block. 


For example, the following code renders the myBlock block inside of the `document.body{:js}` element:

```jsx
mount(myBlock, document.body);
```


## Updating Blocks

Blocks can be updated using the `patch(){:jsx}` function. 

The `patch(){:jsx}` function takes two arguments: 

- the old block 
- the new block. 

The old block is the block that will be replaced, and the new block is the block that will replace it.

```jsx
patch(myBlock, newBlock);
```

For example, the following code will update the block we currently have with a new block. Here is a very simple example:

```jsx
const myBlock = block(() => (
  <h1>This is a heading</h1>
  <p>This is a paragraph</p>
));

 
mount(myBlock, document.getElementById('root')); // mount current block
 
 
const newBlock = block(({ text }) => {
  return(
  <h1>This is another heading</h1>
  <p>This is another paragraph</p>
  );
});
 
patch(myBlock, newBlock); // make the update

mount(newBlock, document.getElementById('root')); // mount the update
```

## Thinking in blocks

When thinking in Million.js, it is important to think in terms of blocks. 

Blocks are the basic unit of rendering in Million.js. By thinking in blocks, you can write more efficient and performant code.

Here are some tips for thinking in blocks:

- Use blocks to group related DOM elements together.
- Nested blocks can be used to create complex layouts.
- Use the `mount(){:jsx}` function to render blocks.
- Use the `patch(){:jsx}` function to update blocks.

By following these tips, you can write more efficient and performant code with Million.js.

## Other Million.js functions

In addition to the `block(){:jsx}`, `mount(){:jsx}`, and `patch(){:jsx}`functions, Million.js also provides a number of other functions that can be used to create and manipulate DOM elements. 

These functions include:

- `mapArray(){:jsx}`: This function can be used to map an array of DOM elements to a new array of DOM elements. Similar to the [`<For/>`](https://millionjs.org/docs/quickstart#optimized-array-rendering) component.

- `renderToTemplate(){:jsx}`: This function can be used to render a DOM element to a template.

- `stringToDOM(){:jsx}`: This function can be used to create a DOM element from a string.

## Example

Here is an example of a very simple Million.js application:

```jsx
import { block, mount } from "million";

const myBlock = block(() => (
  <h1>This is a heading</h1>
  <p>This is a paragraph</p>
));

mount(myBlock, document.body);
```

This application will render a heading and a paragraph to the DOM. The heading will have the text "This is a heading", and the paragraph will have the text "This is a paragraph".

## Conclusion

Million.js is a powerful virtual DOM (cannot stress this enough) that can be used to build fast and performant web applications. 

By thinking in blocks, you can write more efficient and performant frontend code with Million.js.






